<div class="container" style="padding-top: 50px;">
	<h1>
		<span data-ng-if="jnsId !== undefined">
			<p><img height="32px" src="{{jns_info.image}}" /></p>
			{{jns_info.description}}
			<small>查看该数字身份DID的资料</small>
		</span>
		<span data-ng-if="jnsId === undefined">
			<p style="color:#050">{{ addressId.substr(0,6) + '...' + addressId.substr(-4) }}</p>
			链地址
			<small>查看链地址信息</small>
		</span>
		<span class="zoom" ng-style="{ 'display': balance == 0 ? 'inline-block' : 'none' }">
			<button ng-click="airdrop()">🎁</button>
		</span>
	</h1>

<span style="color:#999"><p style="word-break:break-all;">{{airdrop_hexdata}}</p></span>
<span style="color:#a00"><p style="word-break:break-all;">{{airdrop_errmsg}}</p></span>

<div id="address-97785883" class="addressdiv">
    <table class="table table-striped" cellpadding="0" cellspacing="0" style="padding:0px;float:left;margin:0px;width:100%">
        <tbody>
        <tr>
			<th colspan="3" align="left"><img height="14px" src="{{jns_info.image}}" /> {{addressId}} <span class="pull-right"></span></th>
        </tr>
        </tbody>
    </table>
    <table class="table table-striped">
        <tbody>
        <tr>
			<td><b>能量余额：</b></td>
			<td>{{balanceInEther || "计算中..."}} J (焦耳)，即 {{balance || "计算中..."}} e (能量单位)</td>
        </tr>
        <tr>
			<td><b>数字资产：</b></td>
            <td></td>
        </tr>
        <tr>
            <td>Wrapped Joule</td>
            <td>{{wjBalanceInJoule || "计算中..."}} wJ
				<span ng-style="{ 'display': chainId == '0xe52' && account.toLowerCase() == addressId.toLowerCase() ? 'inline-block' : 'none' }">
					<span ng-style="{ 'display': wjBalance > 0 ? 'inline-block':'none'}">
						<button ng-click="wjUnwrapDialog()"><font style="color:#0023ed">unwrap</font></button>
					</span>
				</span>
			</td>
        </tr>
        <tr>
			<td><b>藏品和徽章：</b></td>
			<td>
				JTI: {{countJTI || "统计中..."}} 
				<span ng-style="{ 'display': chainId == '0xe52' && account.toLowerCase() == jtiContractOwner.toLowerCase() ? 'inline-block' : 'none' }">
					<button ng-click="star()">⭐️</button>
				</span>
				, 
				FlyingJ: {{countFlyingJ || "统计中..."}}
				,
				JNSDAO V: {{countJNSDAOV || "统计中..."}}
				<span ng-style="{ 'display': chainId == '0xe52' && account.toLowerCase() == addressId.toLowerCase() ? 'inline-block' : 'none' }">
					<button ng-click="register()"><font style="color:#c647ba">登记npub公钥</font></button>
				</span>
				, 
				JNS: {{countJNS || "统计中..."}}
				<!--span ng-style="{ 'display': chainId == '0xe52' && account == jnsContractOwner ? 'inline-block' : 'none' }">
					<button ng-click="mint()">🔨</button>
				</span-->
				,
				JNSVote POAP: {{countJNSVote || "统计中..."}}
			</td>
        </tr>
		<tr data-ng-repeat="i5 in allJNSDAOV">
		  <td>{{i5.tag}}</td>
		  <td><img height="14px" src="{{jns_info.image}}" /> <image height="14px" src="{{i5.tokenInfo.image}}"></image> 
			  <div style="color:#aaa;font-size:small;word-break:break-all;">{{i5.tokenInfo.npubkey}}</div>
		  </td>
		</tr>
		<tr data-ng-repeat="i1 in allFlyingJ">
		  <td>{{i1.tag}}</td>
		  <td><image height="64px" src="{{i1.tokenInfo.image}}"></image></td>
		</tr>
		<tr data-ng-repeat="i2 in allJTI">
		  <td>{{i2.tag}}</td>
		  <td><image height="24px" src="{{i2.tokenInfo.image}}" style="filter:invert(5%) sepia(75%) saturate(7378%) hue-rotate(45deg) brightness(114%) contrast(112%);"></image></td>
		</tr>
		<tr data-ng-if="countJNSVote > 0">
		  <td>JNSVote POAP</td>
		  <td><span data-ng-repeat="i3 in allJNSVote">
				  <a href="/#/jnsvote/"><image height="64px" style="margin:0 2px 2px 0" src="{{i3.tokenInfo.image}}"></image></a>
			  </span>
		  </td>
		</tr>
		<tr data-ng-repeat="i4 in allJNS">
		  <td>{{i4.tag}}</td>
		  <td><a href="/#/jns/{{i4.tokenInfo.description}}"><image height="20px" src="{{i4.tokenInfo.image}}"></image></a></td>
		</tr>
        </tbody>
    </table>
	<small>* 注：J（焦耳）是能量单位。定义 1 J = 1 Ee（E能量）= 10^9 Ge（G能量）= 10^18 e，即 1,000,000,000,000,000,000 e（能量）。</small>
</div>

  <!-- dialog for input to unwrap wJoule -->
    <div id="dialog-unwrap-wjoule" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <center><div class="modal-header">
						<h4 class="modal-title"><span id="">Unwrap wJ</span></h4>
                </div></center>
                <div class="modal-body">
					<code>
						<span style="word-break:break-all;" id="">
							<p>拆开wJ (wrapped Joule)，释放其中的能量到某一地址。需输入：</p>
							<p>1. 要拆开的wJ数量：<input type="text" id="wj-unwrap-amount"></input> wJ</p>
							<p>2. 接收能量的链地址（留空则默认为当前地址）：<input type="text" id="wj-unwrap-to"></input></p>
						</span>
					</code>
                </div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="wjUnwrapTo()">确定</button>
					<button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
				</div>
            </div>
        </div>
    </div>
  <!-- end of dialog for input to unwrap wJoule -->

</div>
